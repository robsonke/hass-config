#  ____          _ _       _
# / ___|_      _(_) |_ ___| |__
# \___ \ \ /\ / / | __/ __| '_ \
#  ___) \ V  V /| | || (__| | | |
# |____/ \_/\_/ |_|\__\___|_| |_|
#
# Author: Rob Sonke
# https://github.com/robsonke/hass-config
#
# - media_player.living_room
# - media_player.office
# - media_player.eetkamer
# - media_player.zithoek
switch:
  - platform: template
    switches:
        group_sonos_living_room:
          value_template: "{{  is_state('input_boolean.group_sonos_living_room', 'on')  }}"
          turn_on:
            - service: input_boolean.turn_on
              entity_id: input_boolean.group_sonos_living_room
            - service: sonos.join
              data_template:
                master: "{{ states.input_select.sonos_master.state }}"
                entity_id:
                  - media_player.living_room
            - service: media_player.volume_set
              data:
                entity_id: media_player.living_room
                volume_level: 0.2
          turn_off:
            - service: input_boolean.turn_off
              entity_id: input_boolean.group_sonos_living_room
            - service: sonos.unjoin
              data:
                entity_id: media_player.living_room
        group_sonos_office:
          value_template: "{{  is_state('input_boolean.group_sonos_office', 'on')  }}"
          turn_on:
            - service: input_boolean.turn_on
              entity_id: input_boolean.group_sonos_office
            - service: sonos.join
              data_template:
                master: "{{ states.input_select.sonos_master.state }}"
                entity_id:
                  - media_player.office
            - service: media_player.volume_set
              data:
                entity_id: media_player.office
                volume_level: 0.2
          turn_off:
            - service: input_boolean.turn_off
              entity_id: input_boolean.group_sonos_office
            - service: sonos.unjoin
              data:
                entity_id: media_player.office
        group_sonos_eetkamer:
          value_template: "{{  is_state('input_boolean.group_sonos_eetkamer', 'on')  }}"
          turn_on:
            - service: input_boolean.turn_on
              entity_id: input_boolean.group_sonos_eetkamer
            - service: sonos.join
              data_template:
                master: "{{ states.input_select.sonos_master.state }}"
                entity_id:
                  - media_player.eetkamer
            - service: media_player.volume_set
              data:
                entity_id: media_player.eetkamer
                volume_level: 0.2
          turn_off:
            - service: input_boolean.turn_off
              entity_id: input_boolean.group_sonos_eetkamer
            - service: sonos.unjoin
              data:
                entity_id: media_player.eetkamer
        group_sonos_zithoek:
          value_template: "{{  is_state('input_boolean.group_sonos_zithoek', 'on')  }}"
          turn_on:
            - service: input_boolean.turn_on
              entity_id: input_boolean.group_sonos_zithoek
            - service: sonos.join
              data_template:
                master: "{{ states.input_select.sonos_master.state }}"
                entity_id:
                  - media_player.zithoek
            - service: media_player.volume_set
              data:
                entity_id: media_player.zithoek
                volume_level: 0.2
          turn_off:
            - service: input_boolean.turn_off
              entity_id: input_boolean.group_sonos_zithoek
            - service: sonos.unjoin
              data:
                entity_id: media_player.zithoek